var __t;__t=function(ns){var curr,index,part,parts,_i,_len;curr=null,parts=[].concat=ns.split(".");for(index=_i=0,_len=parts.length;_i<_len;index=++_i){part=parts[index];if(curr===null){curr=eval(part);continue}curr[part]==null?curr=curr[part]={}:curr=curr[part]}return curr},function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S={}.hasOwnProperty,T=function(a,b){function d(){this.constructor=a}for(var c in b)S.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};d=function(){function a(a,b){this.x=a,this.y=b}return a.prototype.boxHit=function(a){return Math.abs(a.x-this.x)<(a.width+this.width)/2&&Math.abs(a.y-this.y)<(a.height+this.height)/2},a.prototype.offscreen=function(){return this.x<0||this.x>v.width||this.y<0||this.y>v.height},a.prototype.drawAsBox=function(){return x.fillRect(this.x-this.width/2,this.y-this.height/2,this.width,this.height)},a}(),e=function(a){function b(a,b){this.x=a,this.y=b}return T(b,a),b}(d),n=function(a){function b(a,b){this.x=a,this.y=b,this.used=0}return T(b,a),b.prototype.move=function(){return this.y+=this.speed},b.prototype.draw=function(){return x.fillStyle=this.color,this.drawAsBox()},b.prototype.detectUse=function(){this.boxHit(P)&&(this.used=1,this.use());if(this.offscreen())return this.used=1},b.prototype.update=function(){return this.move(),this.draw(),this.detectUse()},b}(d),g="#0044FF",a="#FF0000",o=100,p=4e3,m=3,q=function(a){function b(a,c){this.x=a,this.y=c,b.__super__.constructor.call(this,this.x,this.y)}return T(b,a),b.prototype.rand=.1,b.prototype.width=4,b.prototype.height=4,b.prototype.speed=5,b.prototype.color="#0088FF",b.prototype.use=function(){return F.owners.player.shield=Math.min(F.owners.player.shield+200,p),F.timers.dispHealth=255},b}(n),r=function(){function a(a,b){this.x=a,this.y=b,this.laserCooldown=0,this.bombCooldown=0,this.heat=0,this.laserPower=1}return a.prototype.width=40,a.prototype.height=40,a.prototype.boxHit=function(a){return Math.abs(a.x-this.x)<(a.width+this.width)/2&&Math.abs(a.y-this.y)<(a.height+this.height)/2},a.prototype.move=function(){return this.x=(this.x+J.x)/2,this.y=(this.y+J.y)/2},a.prototype.drawShield=function(){return x.strokeStyle="rgb(0,".concat(Math.floor(F.timers.colorCycle/2),",",F.timers.colorCycle,")"),x.beginPath(),x.arc(this.x,this.y,Math.min(this.width,this.height),0,2*Math.PI,!1),x.stroke()},a.prototype.draw=function(){return F.owners.player.shield>0&&this.drawShield(),x.strokeStyle="#FFFFFF",x.beginPath(),x.moveTo(this.x,this.y-this.height/2),x.quadraticCurveTo(this.x+this.width/2,this.y,this.x+this.width/2,this.y+this.height/2),x.quadraticCurveTo(this.x+this.width/8,this.y+this.height/4,this.x,this.y+this.height/4),x.quadraticCurveTo(this.x-this.width/8,this.y+this.height/4,this.x-this.width/2,this.y+this.height/2),x.quadraticCurveTo(this.x-this.width/2,this.y,this.x,this.y-this.height/2),x.closePath(),x.stroke()},a.prototype.damage=function(a){F.timers.dispHealth=255,F.owners.player.shield-=a*20;if(F.owners.player.shield<0)return F.owners.player.health+=Math.floor(F.owners.player.shield/20),F.owners.player.shield=0},a.prototype.takeDamage=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;j=F.owners.enemies.lasers;for(d=0,g=j.length;d<g;d++)b=j[d],Math.abs(this.x-b.x)<=this.width/2&&Math.abs(this.y-b.y+b.speed/2)<=(Math.abs(b.speed)+b.height)/2+this.height/2&&(b.killedSomething=!0,this.damage(8));k=F.owners.enemies.bombs;for(e=0,h=k.length;e<h;e++)a=k[e],this.boxHit(a)&&(a.cooldown=0,this.damage(2));l=F.owners.enemies.shrapnals,m=[];for(f=0,i=l.length;f<i;f++)c=l[f],this.boxHit(c)?(c.cooldown=0,m.push(this.damage(2))):m.push(void 0);return m},a.prototype.update=function(){return this.move(),this.draw(),this.takeDamage(),F.owners.player.shield=Math.max(F.owners.player.shield-1,0)},a}(),j=function(a){function b(a,b){this.x=a,this.y=b,this.angle=0,this.moveState=0,this.health=1}return T(b,a),b.prototype.rand=.02,b.prototype.threshold=15,b.prototype.width=20,b.prototype.height=20,b.prototype.move=function(){var a;switch(this.moveState){case 0:return Math.abs(this.x-P.x)<150&&Math.abs(this.y-P.y)<150?this.moveState=1:(this.angle=0,this.y+=1);case 1:return this.y>P.y?a=Math.PI-Math.atan((this.x-P.x)/(this.y-P.y)):a=-Math.atan((this.x-P.x)/(this.y-P.y)),Math.abs(a-this.angle)<Math.PI/24||Math.abs(a-this.angle)>Math.PI*2-Math.PI/24?(this.angle=a,this.moveState=2):this.angle<a&&this.angle-a<Math.PI||Math.PI*2-this.angle-a<Math.PI?this.angle+=Math.PI/24:this.angle-=Math.PI/24;case 2:return this.x+=30*Math.cos(this.angle+Math.PI/2),this.y+=30*Math.sin(this.angle+Math.PI/2)}},b.prototype.draw=function(){return x.translate(this.x,this.y),x.rotate(this.angle),x.beginPath(),x.moveTo(-this.width/2,-this.height/2),x.lineTo(this.width/2,-this.height/2),x.lineTo(this.width/2,this.height/5),x.lineTo(0,this.height/2),x.lineTo(-this.width/2,this.height/5),x.closePath(),x.stroke(),x.rotate(-this.angle),x.translate(-this.x,-this.y)},b.prototype.takeDamage=function(){var a,b,c,d,e,f,g,h,i,j,k,l;if(this.y>v.height||this.moveState&&this.offscreen())return this.health=0;if(this.boxHit(P))return F.owners.player.kills+=1,P.damage(35),this.health=0;j=F.owners.player.lasers;for(d=0,g=j.length;d<g;d++){b=j[d];if(Math.abs(this.x-b.x)<=this.width/2&&Math.abs(this.y-b.y+b.speed/2)<=(Math.abs(b.speed)+b.height)/2+this.height/2)return b.killedSomething=!0,F.owners.player.kills+=1,this.health=0}k=F.owners.player.bombs;for(e=0,h=k.length;e<h;e++){a=k[e];if(this.boxHit(a))return a.cooldown=0,F.owners.player.kills+=1,this.health=0}l=F.owners.player.shrapnals;for(f=0,i=l.length;f<i;f++){c=l[f];if(this.boxHit(c))return F.owners.player.kills+=1,this.health=0}},b.prototype.update=function(){return this.move(),this.draw(),this.takeDamage()},b}(e),l=function(a){function b(a,c){this.x=a,this.y=c,b.__super__.constructor.call(this,this.x,this.y)}return T(b,a),b.prototype.rand=.02,b.prototype.width=4,b.prototype.height=4,b.prototype.speed=5,b.prototype.color="#FF9900",b.prototype.use=function(){return P.laserPower+=1},b}(n),s=function(){function a(a,b,c,d,e){this.x=a,this.y=b,this.angle=c,this.speed=d,this.owner=e,this.cooldown=10}return a.prototype.speed=10,a.prototype.width=2,a.prototype.height=2,a.prototype.drawAsBox=function(){return x.fillRect(this.x-this.width/2,this.y-this.height/2,this.width,this.height)},a.prototype.move=function(){return this.x+=this.speed*Math.cos(this.angle),this.y+=this.speed*Math.sin(this.angle)},a.prototype.draw=function(){return x.fillStyle=this.owner.color,this.drawAsBox()},a.prototype.update=function(){return this.cooldown-=1,this.move(),this.draw()},a}(),f=function(a){function b(a,b){this.x=a,this.y=b,this.shootCooldown=Math.floor(Math.random()*this.cooldownTime),this.health=1}return T(b,a),b.prototype.rand=.03,b.prototype.threshold=0,b.prototype.width=20,b.prototype.height=20,b.prototype.cooldownTime=35,b.prototype.draw=function(){return x.strokeStyle="#FFFFFF",x.beginPath(),x.moveTo(this.x-this.width/2,this.y-this.height/2),x.lineTo(this.x+this.width/2,this.y-this.height/2),x.lineTo(this.x,this.y+this.height/2),x.closePath(),x.stroke()},b.prototype.move=function(){var a;return this.y+=3,a=(P.x-this.x)/12,this.x+=Math.abs(a)<5?a:5*a/Math.abs(a)},b.prototype.shoot=function(){return this.shootCooldown=this.cooldownTime,F.owners.enemies.lasers.push(new k(this.x,this.y,k.prototype.speed,F.owners.enemies))},b.prototype.takeDamage=function(){var a,b,c,d,e,f,g,h,i,j,k,l;if(this.y>v.height)return this.health=0;if(this.boxHit(P))return P.damage(24),F.owners.player.kills+=1,this.health=0;j=F.owners.player.lasers;for(d=0,g=j.length;d<g;d++){b=j[d];if(Math.abs(this.x-b.x)<=this.width/2&&Math.abs(this.y-b.y+b.speed/2)<=(Math.abs(b.speed)+b.height)/2+this.height/2)return b.killedSomething=!0,F.owners.player.kills+=1,this.health=0}k=F.owners.player.bombs;for(e=0,h=k.length;e<h;e++){a=k[e];if(this.boxHit(a))return a.cooldown=0,F.owners.player.kills+=1,this.health=0}l=F.owners.player.shrapnals;for(f=0,i=l.length;f<i;f++){c=l[f];if(this.boxHit(c))return F.owners.player.kills+=1,this.health=0}},b.prototype.update=function(){return this.shootCooldown===0&&this.shoot(),this.shootCooldown-=1,this.move(),this.draw(),this.takeDamage()},b}(e),k=function(){function a(a,b,c,d){this.x=a,this.y=b,this.speed=c,this.owner=d,this.killedSomething=!1}return a.prototype.speed=20,a.prototype.width=2,a.prototype.height=16,a.prototype.drawAsBox=function(){return x.fillRect(this.x-this.width/2,this.y-this.height/2,this.width,this.height)},a.prototype.draw=function(){return x.fillStyle=this.owner.color,this.drawAsBox()},a.prototype.move=function(){return this.y+=this.speed},a.prototype.update=function(){return this.move(),this.draw()},a}(),t=function(a){function b(a,b){this.x=a,this.y=b,this.angle=0,this.shootCooldown=Math.floor(Math.random()*this.cooldownTime),this.burst=0,this.health=1}return T(b,a),b.prototype.rand=.005,b.prototype.threshold=45,b.prototype.width=20,b.prototype.height=20,b.prototype.cooldownTime=55,b.prototype.draw=function(){return x.translate(this.x,this.y),x.rotate(this.angle),x.beginPath(),x.moveTo(-this.width/2,-this.height/2),x.lineTo(this.width/2,-this.height/2),x.lineTo(this.width/2,this.height/2),x.lineTo(-this.width/2,this.height/2),x.closePath(),x.stroke(),x.rotate(-this.angle),x.translate(-this.x,-this.y)},b.prototype.move=function(){return this.angle+=.1,this.y+=2},b.prototype.shoot=function(){return this.burst<5?this.burst+=1:(this.shootCooldown=this.cooldownTime,this.burst=0),F.owners.enemies.lasers.push(new k(this.x,this.y,k.prototype.speed,F.owners.enemies))},b.prototype.takeDamage=function(){var a,b,c,d,e,f,g,h,i,j,k,l;if(this.y>v.height)return this.health=0;if(this.boxHit(P))return P.damage(24),F.owners.player.kills+=1,this.health=0;j=F.owners.player.lasers;for(d=0,g=j.length;d<g;d++){b=j[d];if(Math.abs(this.x-b.x)<=this.width/2&&Math.abs(this.y-b.y+b.speed/2)<=(Math.abs(b.speed)+b.height)/2+this.height/2)return b.killedSomething=!0,F.owners.player.kills+=1,this.health=0}k=F.owners.player.bombs;for(e=0,h=k.length;e<h;e++){a=k[e];if(this.boxHit(a))return a.cooldown=0,F.owners.player.kills+=1,this.health=0}l=F.owners.player.shrapnals;for(f=0,i=l.length;f<i;f++){c=l[f];if(this.boxHit(c))return F.owners.player.kills+=1,this.health=0}},b.prototype.update=function(){return this.shootCooldown<=0&&this.shoot(),this.shootCooldown-=1,this.move(),this.draw(),this.takeDamage()},b}(e),h=function(){function b(){this.owners={player:{lasers:[],bombs:[],shrapnals:[],units:P,color:g,health:o,shield:0,kills:0,lasersFired:0,bombsFired:0},enemies:{lasers:[],bombs:[],shrapnals:[],units:[],color:a}},this.timers={dispHealth:0,colorCycle:0,colorCycleDir:10},this.powerups={healthups:[],laserups:[],shieldups:[]},this.crashed=!1}return b}(),c=function(a){function c(a,b){this.x=a,this.y=b,this.angle=0,this.bombCooldown=Math.floor(Math.random()*this.cooldownTime),this.turnVel=(Math.random()-.5)/30,this.health=1}return T(c,a),c.prototype.rand=.01,c.prototype.threshold=30,c.prototype.width=10,c.prototype.height=28,c.prototype.cooldownTime=40,c.prototype.move=function(){return this.x+=2*Math.cos(this.angle+Math.PI/2),this.y+=2*Math.sin(this.angle+Math.PI/2),this.angle+=this.turnVel,this.goneOnScreen=0},c.prototype.draw=function(){return x.translate(this.x,this.y),x.rotate(this.angle),x.beginPath(),x.moveTo(0,this.height/2),x.lineTo(this.width/2,0),x.lineTo(0,-this.height/2),x.lineTo(-this.width/2,0),x.closePath(),x.stroke(),x.rotate(-this.angle),x.translate(-this.x,-this.y)},c.prototype.bomb=function(){return this.bombCooldown=this.cooldownTime,F.owners.enemies.bombs.push(new b(this.x,this.y,4,35,F.owners.enemies))},c.prototype.takeDamage=function(){var a,b,c,d,e,f,g,h,i,j,k,l;if(this.offscreen()){if(this.goneOnScreen)return this.health=0}else this.goneOnScreen=1;if(this.boxHit(P))return P.damage(24),F.owners.player.kills+=1,this.health=0;j=F.owners.player.lasers;for(d=0,g=j.length;d<g;d++){b=j[d];if(Math.abs(this.x-b.x)<=this.width/2&&Math.abs(this.y-b.y+b.speed/2)<=(Math.abs(b.speed)+b.height)/2+this.height/2)return b.killedSomething=!0,F.owners.player.kills+=1,this.health=0}k=F.owners.player.bombs;for(e=0,h=k.length;e<h;e++){a=k[e];if(this.boxHit(a))return a.cooldown=0,F.owners.player.kills+=1,this.health=0}l=F.owners.player.shrapnals;for(f=0,i=l.length;f<i;f++){c=l[f];if(this.boxHit(c))return F.owners.player.kills+=1,this.health=0}},c.prototype.update=function(){return this.bombCooldown===0&&this.bomb(),this.bombCooldown-=1,this.move(),this.draw(),this.takeDamage()},c}(e),i=function(a){function b(a,c){this.x=a,this.y=c,b.__super__.constructor.call(this,this.x,this.y)}return T(b,a),b.prototype.rand=.05,b.prototype.width=4,b.prototype.height=4,b.prototype.speed=5,b.prototype.color="#00FF00",b.prototype.use=function(){return F.owners.player.health=Math.min(F.owners.player.health+15,o),F.timers.dispHealth=255},b}(n),b=function(a){function b(a,b,c,d,e){this.x=a,this.y=b,this.speed=c,this.cooldown=d,this.owner=e}return T(b,a),b.prototype.width=4,b.prototype.height=4,b.prototype.speed=12,b.prototype.move=function(){return this.y+=this.speed},b.prototype.explode=function(){var a;return this.owner.shrapnals=this.owner.shrapnals.concat(function(){var b,c;c=[];for(a=b=0;b<=9;a=++b)c.push(new s(this.x,this.y,a*36*Math.PI/180,s.prototype.speed,this.owner));return c}.call(this))},b.prototype.draw=function(){return x.fillStyle=this.owner.color,this.drawAsBox()},b.prototype.update=function(){return this.cooldown-=1,this.cooldown<=0&&this.explode(),this.move(),this.draw()},b}(d),v=document.getElementById("c"),x=v.getContext("2d"),u=$("<audio></audio>").attr({loop:"loop"}).append($("<source></source>").attr({src:"media/tonight_full.ogg"}).attr({type:"audio/ogg"})).append($("<source></source>").attr({src:"media/tonight_full.mp3"}).attr({type:"audio/mpeg"})).appendTo("body")[0],console.log(u);if(!x)throw"Loading context failed";M=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},C=function(a,b){return setInterval(b,a)},F=void 0,P=void 0,E=!0,K=!1,J={x:250,y:200,leftDown:!1,rightDown:!1},Q=void 0,G={title:"Title",gameover:"GameOver",playing:"Playing",paused:"Paused",crashed:"Crashed"},y=G.title,O=function(){return x.fillStyle="#FFFFFF",x.font="bold 20px Lucidia Console",x.textAlign="center",x.textBaseline="middle"},N=function(){return x.fillStyle="#FFFFFF",x.font="normal 18px Lucidia Console",x.textAlign="left",x.textBaseline="bottom"},w=function(){return x.fillStyle="#000000",x.fillRect(0,0,v.width,v.height)},B=function(){return w(),O(),x.fillText("Tempus [Dev]",v.width/2,v.height/2-12),x.fillText("Click to play",v.width/2,v.height/2+12),N(),x.fillText("by Jake Stothard",10,v.height-10)},A=function(){return w(),O(),x.fillText("Game Over",v.width/2,v.height/2-20),x.font="normal 18px Lucidia Console",x.fillText("Kills - "+F.owners.player.kills,v.width/2,v.height/2),x.fillText("Lasers Fired - "+F.owners.player.lasersFired,v.width/2,v.height/2+20),x.fillText("Bombs Used - "+F.owners.player.bombsFired,v.width/2,v.height/2+40)},x.strokeStyle="#FFFFFF",x.lineWidth=4,D=function(){return $("#enableMusic")[0].checked&&(u.play(),K=!0),E=!1},I=function(){return E&&D(),P=new r(J.x,J.y),F=new h},z=function(){return x.strokeStyle="rgb(0,".concat(F.timers.dispHealth,",0)"),x.beginPath(),x.arc(v.width/2,v.height/2,Math.min(v.width,v.height)/2-20,0,Math.max(F.owners.player.health,0)*Math.PI*2/o,!1),x.stroke(),x.strokeStyle="rgb(0,".concat(Math.floor(F.timers.dispHealth/2),",",F.timers.dispHealth,")"),x.beginPath(),x.arc(v.width/2,v.height/2,Math.min(v.width,v.height)/2-40,0,Math.max(F.owners.player.shield,0)*Math.PI*2/p,!1),x.stroke()},L=function(){return y=G.paused,clearInterval(Q),z(),O(),x.fillText("[Paused]",v.width/2,v.height/2)},R=function(){return y=G.playing,Q=C(32,H)},$(document).keyup(function(a){switch(a.which){case 80:switch(y){case G.paused:return R();case G.playing:return L()}}}),$("#c").mousemove(function(a){return J.x=a.pageX-this.offsetLeft,J.y=a.pageY-this.offsetTop}).mouseout(function(a){if(y===G.playing)return L()}).mousedown(function(a){switch(a.which){case 1:return J.leftDown=!0;case 3:return J.rightDown=!0}}).mouseup(function(a){switch(a.which){case 1:return J.leftDown=!1;case 3:return J.rightDown=!1}}).click(function(a){switch(y){case G.paused:return R();case G.title:return y=G.playing,I(),Q=C(32,H);case G.gameOver:return y=G.title,B()}}).bind("contextmenu",function(a){return!1}),$("#enableMusic").change(function(a){if(!E)return $("#enableMusic")[0].checked?(u.play(),K=!0):(u.pause(),K=!1)}),H=function(){var a,d,e,g,h,m,n,o,p,r,s,u,B,C,D,E,H,I,K,L,N,O,R,S,T,U,V,W,X,Y,Z,$;if(F.crashed){y=G.crashed,clearInterval(Q);return}F.crashed=!0,F.timers.colorCycle+=F.timers.colorCycleDir,F.timers.colorCycle=Math.min(F.timers.colorCycle,255),F.timers.colorCycle=Math.max(F.timers.colorCycle,0);if(F.timers.colorCycle===0||F.timers.colorCycle===255)F.timers.colorCycleDir*=-1;if(F.owners.player.health<=0){y=G.gameOver,clearInterval(Q),A();return}w(),T=F.owners.enemies.units;for(u=0,E=T.length;u<E;u++)d=T[u],d.update();F.powerups.healthups=F.powerups.healthups.concat(function(){var a,b,c,e;c=F.owners.enemies.units,e=[];for(a=0,b=c.length;a<b;a++)d=c[a],d.health<=0&&Math.random()<i.prototype.rand&&e.push(new i(d.x,d.y));return e}()),F.powerups.shieldups=F.powerups.shieldups.concat(function(){var a,b,c,e;c=F.owners.enemies.units,e=[];for(a=0,b=c.length;a<b;a++)d=c[a],d.health<=0&&Math.random()<q.prototype.rand&&e.push(new q(d.x,d.y));return e}()),F.powerups.laserups=F.powerups.laserups.concat(function(){var a,b,c,e;c=F.owners.enemies.units,e=[];for(a=0,b=c.length;a<b;a++)d=c[a],d.health<=0&&Math.random()<l.prototype.rand&&e.push(new l(d.x,d.y));return e}()),F.owners.enemies.units=function(){var a,b,c,e;c=F.owners.enemies.units,e=[];for(a=0,b=c.length;a<b;a++)d=c[a],d.health>0&&e.push(d);return e}(),U=[f,j,c,t];for(B=0,H=U.length;B<H;B++)s=U[B],F.owners.player.kills>=s.prototype.threshold&&Math.random()<s.prototype.rand&&F.owners.enemies.units.push(new s(M(0,v.width),-10));P.update(),V=F.owners;for(m in V){h=V[m],W=h.lasers;for(C=0,I=W.length;C<I;C++)g=W[C],g.update();h.lasers=function(){var a,b,c,d,e;c=h.lasers,e=[];for(a=0,b=c.length;a<b;a++)g=c[a],0<(d=g.y)&&d<v.height&&!g.killedSomething&&e.push(g);return e}(),X=h.bombs;for(D=0,K=X.length;D<K;D++)a=X[D],a.update();h.bombs=function(){var b,c,d,e;d=h.bombs,e=[];for(c=0,b=d.length;c<b;c++)a=d[c],a.cooldown>0&&e.push(a);return e}(),Y=h.shrapnals;for(O=0,L=Y.length;O<L;O++)r=Y[O],r.update();h.shrapnals=function(){var a,b,c,d;c=h.shrapnals,d=[];for(b=0,a=c.length;b<a;b++)r=c[b],r.cooldown>0&&d.push(r);return d}()}Z=F.powerups;for(p in Z){o=Z[p];for(R=0,N=o.length;R<N;R++)n=o[R],n.update();F.powerups[p]=function(){var a,b,c;c=[];for(b=0,a=o.length;b<a;b++)n=o[b],n.used||c.push(n);return c}()}if(J.leftDown&&P.laserCooldown<=0){F.owners.player.lasersFired+=P.laserPower;for(e=S=1,$=P.laserPower;1<=$?S<=$:S>=$;e=1<=$?++S:--S)F.owners.player.lasers.push(new k(P.x+e*4-P.laserPower*2,P.y,-k.prototype.speed,F.owners.player));P.heat>80?P.laserCooldown=7:P.heat>40?P.laserCooldown=5:P.laserCooldown=2,P.heat+=7}return J.rightDown&&P.bombCooldown<=0&&(F.owners.player.bombsFired+=1,y===G.playing&&F.owners.player.bombs.push(new b(P.x,P.y,-b.prototype.speed,20,F.owners.player)),P.heat>80?P.bombCooldown=20:P.heat>40?P.bombCooldown=10:P.bombCooldown=5,P.heat+=10),P.laserCooldown>0&&(P.laserCooldown-=1),P.bombCooldown>0&&(P.bombCooldown-=1),P.heat>0&&(P.heat-=1),x.textAlign="center",x.textBaseline="bottom",P.heat>80?(x.fillStyle="rgb(".concat(F.timers.colorCycle,",0,0)"),x.font="bold 20px Lucidia Console",x.fillText("[ Heat Critical ]",v.width/2,v.height-30)):P.heat>40&&(x.fillStyle="rgb(".concat(F.timers.colorCycle,",",F.timers.colorCycle,",0)"),x.font="normal 18px Lucidia Console",x.fillText("[ Heat Warning ]",v.width/2,v.height-30)),F.timers.dispHealth>0&&(z(),x.strokeStyle="#FFFFFF",F.timers.dispHealth-=10),F.crashed=!1};switch(y){case G.playing:I(),Q=C(32,H);break;case G.title:B()}e=function(a){function b(a,b){this.x=a,this.y=b}return T(b,a),b}(d)}.call(this)